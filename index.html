<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Tr·∫Øc Nghi·ªám</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì Quiz Tr·∫Øc Nghi·ªám</h1>
            <p>Ki·ªÉm tra ki·∫øn th·ª©c c·ªßa b·∫°n</p>
        </div>
        
        <div class="content">
            <!-- M√†n h√¨nh thi·∫øt l·∫≠p -->
            <div class="setup-screen" id="setupScreen">
                <h2>Thi·∫øt L·∫≠p Quiz</h2>
                <div class="input-group">
                    <label for="numQuestions">S·ªë c√¢u h·ªèi mu·ªën l√†m:</label>
                    <div class="input-options">
                        <select id="numQuestionsSelect" onchange="handleQuestionCountChange()">
                            <option value="">Ch·ªçn s·∫µn</option>
                            <option value="5">5 c√¢u</option>
                            <option value="10">10 c√¢u</option>
                            <option value="15">15 c√¢u</option>
                            <option value="20">20 c√¢u</option>
                            <option value="custom">T·ª± nh·∫≠p</option>
                        </select>
                        <input type="number" id="numQuestions" min="1" max="50" value="5" placeholder="Ho·∫∑c nh·∫≠p s·ªë">
                    </div>
                </div>
                <div class="input-group">
                    <label for="questionsPerPart">S·ªë c√¢u m·ªói ph·∫ßn:</label>
                    <select id="questionsPerPart">
                        <option value="5">5 c√¢u/ph·∫ßn</option>
                        <option value="10" selected>10 c√¢u/ph·∫ßn</option>
                        <option value="15">15 c√¢u/ph·∫ßn</option>
                        <option value="20">20 c√¢u/ph·∫ßn</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="randomizeAnswers">
                        <input type="checkbox" id="randomizeAnswers" checked>
                        X√°o tr·ªôn th·ª© t·ª± ƒë√°p √°n
                    </label>
                </div>
                <button class="btn" onclick="startQuiz()">B·∫Øt ƒê·∫ßu Quiz</button>
                <p class="info-text">T·ªïng c·ªông c√≥ <span id="totalQuestions">0</span> c√¢u h·ªèi trong ng√¢n h√†ng</p>
            </div>

            <!-- M√†n h√¨nh l√†m b√†i -->
            <div class="quiz-screen" id="quizScreen" style="display: none;">
                <!-- Header v·ªõi n√∫t v·ªÅ trang ch·ªß -->
                <div class="quiz-header">
                    <div class="left-buttons">
                        <button class="btn btn-home" id="homeBtn">üè† Trang Ch·ªß</button>
                        <button class="btn btn-mark" id="markLaterBtn">üîñ ƒê√°nh d·∫•u l√†m sau</button>
                    </div>
                    <button class="btn btn-secondary" id="questionPanelBtn">üìã Toggle Sidebar</button>
                </div>

                <!-- Parts Navigation (Ph·∫ßn 1, Ph·∫ßn 2...) -->
                <div class="parts-navigation" id="partsNavigation">
                    <div class="parts-grid" id="partsGrid"></div>
                </div>

                <div class="quiz-main-content">
                    <!-- Sidebar b√™n tr√°i -->
                    <div class="quiz-sidebar" id="quizSidebar">
                        <div class="sidebar-header">
                            <h4 id="currentPartTitle">Ph·∫ßn 1</h4>
                        </div>
                        
                        <!-- Legend -->
                        <div class="question-legend">
                            <div class="legend-item">
                                <div class="legend-color current"></div>
                                <span>Hi·ªán t·∫°i</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color answered"></div>
                                <span>ƒê√£ tr·∫£ l·ªùi</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color marked"></div>
                                <span>ƒê√°nh d·∫•u</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color unanswered"></div>
                                <span>Ch∆∞a tr·∫£ l·ªùi</span>
                            </div>
                        </div>

                        <!-- Question List cho ph·∫ßn hi·ªán t·∫°i -->
                        <div class="question-list" id="questionList"></div>
                    </div>

                    <!-- Main content area -->
                    <div class="quiz-content">
                        <div class="progress-bar">
                            <div class="progress" id="progressBar"></div>
                        </div>
                        
                        <div class="question-container">
                            <div class="question-number" id="questionNumber"></div>
                            <div class="question" id="questionText"></div>
                            <ul class="options" id="optionsList"></ul>
                        </div>
                        
                        <div class="navigation">
                            <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn">C√¢u Tr∆∞·ªõc</button>
                            <button class="btn" onclick="nextQuestion()" id="nextBtn">C√¢u Ti·∫øp</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- M√†n h√¨nh k·∫øt qu·∫£ -->
            <div class="results-screen" id="resultsScreen" style="display: none;">
                <h2>üéâ Ho√†n Th√†nh Quiz!</h2>
                <div class="score-display" id="scoreDisplay">0/0</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="results-summary">
                    <p><strong>S·ªë c√¢u ƒë√∫ng:</strong> <span id="correctCount">0</span></p>
                    <p><strong>S·ªë c√¢u sai:</strong> <span id="incorrectCount">0</span></p>
                    <p><strong>T·ª∑ l·ªá ch√≠nh x√°c:</strong> <span id="accuracyRate">0%</span></p>
                </div>
                
                <div class="result-actions">
                    <button class="btn btn-secondary" onclick="toggleDetailedResults()" id="toggleDetailsBtn">Xem Chi Ti·∫øt</button>
                    <button class="btn" onclick="restartQuiz()">L√†m L·∫°i</button>
                </div>

                <!-- Ph·∫ßn hi·ªÉn th·ªã chi ti·∫øt k·∫øt qu·∫£ -->
                <div class="detailed-results" id="detailedResults" style="display: none;"></div>
            </div>
        </div>
    </div>
    
    <!-- Load JavaScript files -->
    <script src="assets/js/questions.js"></script>
    <script src="assets/js/app.js"></script>
</body>
</html>
